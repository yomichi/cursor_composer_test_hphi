# analyze_results.py

計算結果を解析し、エネルギーギャップのサイズ依存性をプロットするスクリプト

## 機能
- 各サイズの計算結果からエネルギー固有値を読み取り
- エネルギーギャップを計算
- サイズ依存性のプロット生成
- （オプション）有限サイズスケーリング解析

## コマンドラインオプション
```
--work-dir DIR    作業ディレクトリ（デフォルト：カレントディレクトリ）
```

## 入力データ
各サイズのディレクトリから以下のファイルを読み込み：
```
results/raw/N{size}/zvo_energy.dat
```

## 出力データ
1. エネルギーギャップのデータファイル
```
results/raw/energy_gap.dat
# 形式：
# N  E0  E1  Gap
  4  ...  ...  ...
  6  ...  ...  ...
  ...
```

2. プロットファイル
```
results/figures/gap_size_dependence.pdf
# プロット内容：
# - x軸：1/N
# - y軸：エネルギーギャップ
# - エラーバー（該当する場合）
# - フィッティング曲線（オプション）
```

## エラー処理
- 入力ファイルの存在確認
- データの妥当性チェック
  - エネルギー値の順序
  - 欠損データの処理
- プロット生成時のエラー処理

## 使用例
```bash
# カレントディレクトリで実行
python src/analyze_results.py

# 作業ディレクトリを指定
python src/analyze_results.py --work-dir ./work
``` 